<div align="center">

# ğŸ½ï¸ HAH Restaurant

### Há»‡ Thá»‘ng Quáº£n LÃ½ NhÃ  HÃ ng ToÃ n Diá»‡n

[![Java](https://img.shields.io/badge/Java-17+-orange?style=for-the-badge&logo=openjdk)](https://www.oracle.com/java/)
[![JSP](https://img.shields.io/badge/JSP-3.0-blue?style=for-the-badge&logo=java)](https://jakarta.ee/specifications/servlet/)
[![SQL Server](https://img.shields.io/badge/SQL%20Server-2019+-red?style=for-the-badge&logo=microsoft-sql-server)](https://www.microsoft.com/sql-server)
[![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)](LICENSE)
[![GitHub](https://img.shields.io/badge/GitHub-tangoctai2004-black?style=for-the-badge&logo=github)](https://github.com/tangoctai2004)

> ğŸ¯ Há»‡ thá»‘ng quáº£n lÃ½ nhÃ  hÃ ng toÃ n diá»‡n Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Java JSP/Servlet, há»— trá»£ quáº£n lÃ½ Ä‘Æ¡n hÃ ng, Ä‘áº·t bÃ n, thanh toÃ¡n trá»±c tuyáº¿n vÃ  nhiá»u tÃ­nh nÄƒng khÃ¡c.

[ğŸš€ Báº¯t Ä‘áº§u](#-cÃ i-Ä‘áº·t) â€¢ [ğŸ“– TÃ i liá»‡u](#-tÃ i-liá»‡u) â€¢ [ğŸ› BÃ¡o lá»—i](https://github.com/tangoctai2004/HAH-Restaurant/issues) â€¢ [ğŸ’¡ ÄÃ³ng gÃ³p](#-Ä‘Ã³ng-gÃ³p)

---

</div>

## ğŸ“‹ Má»¥c Lá»¥c

- [âœ¨ TÃ­nh nÄƒng](#-tÃ­nh-nÄƒng)
- [ğŸ› ï¸ CÃ´ng nghá»‡](#ï¸-cÃ´ng-nghá»‡)
- [ğŸ’» YÃªu cáº§u](#-yÃªu-cáº§u)
- [ğŸš€ CÃ i Ä‘áº·t](#-cÃ i-Ä‘áº·t)
- [âš™ï¸ Cáº¥u hÃ¬nh](#ï¸-cáº¥u-hÃ¬nh)
- [ğŸ“– Sá»­ dá»¥ng](#-sá»­-dá»¥ng)
- [ğŸ¯ TÃ­nh nÄƒng ná»•i báº­t](#-tÃ­nh-nÄƒng-ná»•i-báº­t)
- [ğŸ“š TÃ i liá»‡u](#-tÃ i-liá»‡u)
- [ğŸ› Xá»­ lÃ½ lá»—i](#-xá»­-lÃ½-lá»—i)

---

## âœ¨ TÃ­nh nÄƒng

### ğŸ‘¥ DÃ nh cho KhÃ¡ch hÃ ng

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ” **ÄÄƒng kÃ½/ÄÄƒng nháº­p** | Quáº£n lÃ½ tÃ i khoáº£n vá»›i password hashing báº£o máº­t |
| ğŸ“‹ **Xem thá»±c Ä‘Æ¡n** | Duyá»‡t mÃ³n Äƒn theo danh má»¥c, tÃ¬m kiáº¿m dá»… dÃ ng |
| ğŸ›’ **Giá» hÃ ng** | ThÃªm, sá»­a, xÃ³a mÃ³n Äƒn trong giá» hÃ ng |
| ğŸ’³ **Thanh toÃ¡n VNPay** | Thanh toÃ¡n trá»±c tuyáº¿n an toÃ n qua VNPay |
| ğŸª‘ **Äáº·t bÃ n** | Äáº·t bÃ n trÆ°á»›c vá»›i thanh toÃ¡n tiá»n cá»c |
| ğŸ“œ **Lá»‹ch sá»­** | Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng vÃ  Ä‘áº·t bÃ n |
| ğŸ‘¤ **Há»“ sÆ¡** | Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n |

### ğŸ‘¨â€ğŸ’¼ DÃ nh cho Admin/Staff

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸ“Š **Dashboard** | Thá»‘ng kÃª doanh thu, Ä‘Æ¡n hÃ ng, Ä‘áº·t bÃ n trá»±c quan |
| ğŸ“¦ **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng** | Xem, xá»­ lÃ½, in hÃ³a Ä‘Æ¡n chi tiáº¿t |
| ğŸª‘ **Quáº£n lÃ½ Ä‘áº·t bÃ n** | XÃ¡c nháº­n, gÃ¡n bÃ n, há»§y Ä‘áº·t bÃ n |
| ğŸª‘ **Quáº£n lÃ½ bÃ n** | SÆ¡ Ä‘á»“ bÃ n trá»±c quan, quáº£n lÃ½ tráº¡ng thÃ¡i |
| ğŸ½ï¸ **Quáº£n lÃ½ mÃ³n Äƒn** | CRUD mÃ³n Äƒn, danh má»¥c, nguyÃªn liá»‡u |
| ğŸ **Quáº£n lÃ½ khuyáº¿n mÃ£i** | Táº¡o vÃ  quáº£n lÃ½ mÃ£ giáº£m giÃ¡ |
| ğŸ‘¥ **Quáº£n lÃ½ tÃ i khoáº£n** | Quáº£n lÃ½ user, staff, phÃ¢n quyá»n |
| ğŸ”‘ **Quáº£n lÃ½ vai trÃ²** | Táº¡o vai trÃ² vÃ  gÃ¡n quyá»n chi tiáº¿t |
| ğŸ“ **Quáº£n lÃ½ bÃ i viáº¿t** | ÄÄƒng tin tá»©c, sá»± kiá»‡n |
| âš™ï¸ **Thiáº¿t láº­p** | Cáº¥u hÃ¬nh thÃ´ng tin nhÃ  hÃ ng |

### ğŸ” Báº£o máº­t & PhÃ¢n quyá»n

<div align="center">

| TÃ­nh nÄƒng | Tráº¡ng thÃ¡i |
|:---------:|:----------:|
| ğŸ”’ Password Hashing (SHA-256 + salt) | âœ… |
| ğŸ›¡ï¸ Há»‡ thá»‘ng phÃ¢n quyá»n RBAC | âœ… |
| ğŸ” Credentials trong file config | âœ… |
| â±ï¸ Session management | âœ… |

</div>

---

## ğŸ› ï¸ CÃ´ng nghá»‡

<div align="center">

### ğŸ¨ Tech Stack

| Category | Technology |
|:--------:|:----------:|
| **ğŸŒ Backend** | Java, JSP/Servlet, Jakarta EE 6.0 |
| **ğŸ’¾ Database** | Microsoft SQL Server, JDBC |
| **ğŸ¨ Frontend** | HTML5, CSS3, JavaScript, JSP |
| **ğŸ’³ Payment** | VNPay Integration |
| **ğŸ”§ Build** | Apache Ant (NetBeans) |

</div>

---

## ğŸ’» YÃªu cáº§u

### ğŸ“¦ Pháº§n má»m cáº§n thiáº¿t

- â˜• **JDK** 17 trá»Ÿ lÃªn
- ğŸ± **Apache Tomcat** 10.x trá»Ÿ lÃªn
- ğŸ—„ï¸ **SQL Server** 2019 trá»Ÿ lÃªn
- ğŸ”§ **NetBeans IDE** (khuyáº¿n nghá»‹)

### ğŸ’» Cáº¥u hÃ¬nh tá»‘i thiá»ƒu

- ğŸ’¾ **RAM**: 4GB+
- ğŸ’¿ **á»” cá»©ng**: 2GB trá»‘ng
- ğŸ–¥ï¸ **OS**: Windows, macOS, hoáº·c Linux

---

## ğŸš€ CÃ i Ä‘áº·t

### ğŸ“¥ BÆ°á»›c 1: Clone repository

```bash
git clone https://github.com/tangoctai2004/HAH-Restaurant.git
cd HAH-Restaurant
```

### ğŸ—„ï¸ BÆ°á»›c 2: Táº¡o Database

1. Má»Ÿ **SQL Server Management Studio**
2. Cháº¡y script: `web/sql/CreateTable.sql` 
   - âœ¨ Tá»± Ä‘á»™ng táº¡o database `QLNhaHang` vÃ  cÃ¡c báº£ng
3. Cháº¡y script: `web/sql/InsertData.sql` (tÃ¹y chá»n)
   - ğŸ“Š ChÃ¨n dá»¯ liá»‡u máº«u: roles, permissions, accounts, products...

### âš™ï¸ BÆ°á»›c 3: Cáº¥u hÃ¬nh Database

1. **Copy file example:**
   ```bash
   cp src/java/config/database.properties.example src/java/config/database.properties
   ```

2. **Má»Ÿ file** `src/java/config/database.properties` vÃ  Ä‘iá»n thÃ´ng tin:
   ```properties
   db.url=jdbc:sqlserver://localhost:1433;databaseName=QLNhaHang;encrypt=true;trustServerCertificate=true
   db.user=sa
   db.password=your_password_here
   ```

> âš ï¸ **LÆ°u Ã½**: Äáº£m báº£o SQL Server Ä‘ang cháº¡y vÃ  cho phÃ©p káº¿t ná»‘i TCP/IP trÃªn port 1433.

### ğŸ’³ BÆ°á»›c 4: Cáº¥u hÃ¬nh VNPay (TÃ¹y chá»n)

1. **Copy file example:**
   ```bash
   cp src/java/config/vnpay.properties.example src/java/config/vnpay.properties
   ```

2. **Má»Ÿ file** `src/java/config/vnpay.properties` vÃ  Ä‘iá»n thÃ´ng tin VNPay:
   ```properties
   vnpay.tmncode=your_tmn_code
   vnpay.hashsecret=your_hash_secret
   vnpay.returnurl=http://localhost:8080/HAH-Restaurant/vnpay-return
   ```

> ğŸ’¡ **Tip**: ÄÄƒng kÃ½ tÃ i khoáº£n táº¡i [VNPay Sandbox](https://sandbox.vnpayment.vn/) Ä‘á»ƒ láº¥y credentials.

### ğŸ”¨ BÆ°á»›c 5: Build vÃ  Deploy

#### ğŸ¯ Sá»­ dá»¥ng NetBeans:

1. Má»Ÿ project trong NetBeans IDE
2. Click chuá»™t pháº£i â†’ **Clean and Build**
3. Click chuá»™t pháº£i â†’ **Run** (tá»± Ä‘á»™ng deploy lÃªn Tomcat)

#### ğŸ’» Sá»­ dá»¥ng Command Line:

```bash
# Build WAR file
ant dist

# Deploy
cp dist/HAH-Restaurant.war $CATALINA_HOME/webapps/
```

### ğŸ‰ BÆ°á»›c 6: Khá»Ÿi Ä‘á»™ng

1. âœ… Khá»Ÿi Ä‘á»™ng **Apache Tomcat**
2. âœ… Khá»Ÿi Ä‘á»™ng **SQL Server**
3. ğŸŒ Truy cáº­p: `http://localhost:8080/HAH-Restaurant`

---

## âš™ï¸ Cáº¥u hÃ¬nh

### ğŸ”Œ Database Connection

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|:----------:|:-------:|
| **File** | `src/java/config/database.properties` |
| **Load** | Tá»± Ä‘á»™ng khi khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng |
| **Fallback** | GiÃ¡ trá»‹ máº·c Ä‘á»‹nh (cÃ³ warning) |

### ğŸ’³ VNPay Payment

| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|:----------:|:-------:|
| **File** | `src/java/config/vnpay.properties` |
| **Load** | Tá»± Ä‘á»™ng khi khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng |

### â±ï¸ Session Timeout

- **Máº·c Ä‘á»‹nh**: 30 phÃºt
- **Cáº¥u hÃ¬nh**: `web/WEB-INF/web.xml`

### ğŸ”’ Password Security

- âœ… Táº¥t cáº£ password má»›i Ä‘Æ°á»£c hash tá»± Ä‘á»™ng (SHA-256 + salt)
- âœ… Password cÅ© (plaintext) váº«n hoáº¡t Ä‘á»™ng Ä‘á»ƒ tÆ°Æ¡ng thÃ­ch
- ğŸ“– Xem chi tiáº¿t: [SECURITY_FIXES.md](SECURITY_FIXES.md)

---

## ğŸ“– Sá»­ dá»¥ng

### ğŸ”‘ TÃ i khoáº£n máº«u

Sau khi cháº¡y `InsertData.sql`, báº¡n cÃ³ thá»ƒ Ä‘Äƒng nháº­p vá»›i:

| Vai trÃ² | Username | Password |
|:------:|:--------:|:--------:|
| ğŸ‘‘ **Admin** | `admin` | `123` |
| ğŸ‘¨â€ğŸ’¼ **Staff** | `nhanvien1` | `123` |
| ğŸ‘¤ **Customer** | `khachhang` | `123` |

> âš ï¸ **LÆ°u Ã½**: NÃªn Ä‘á»•i máº­t kháº©u sau láº§n Ä‘Äƒng nháº­p Ä‘áº§u tiÃªn!

### ğŸ“ Quy trÃ¬nh sá»­ dá»¥ng

#### ğŸª‘ KhÃ¡ch hÃ ng Ä‘áº·t bÃ n:

```
1. Truy cáº­p /reservation
   â†“
2. Äiá»n thÃ´ng tin Ä‘áº·t bÃ n
   â†“
3. Thanh toÃ¡n tiá»n cá»c 100,000 VNÄ
   â†“
4. Admin/Staff nháº­n bÃ n vÃ  gÃ¡n bÃ n
```

#### ğŸ½ï¸ KhÃ¡ch hÃ ng Ä‘áº·t mÃ³n:

```
1. Xem thá»±c Ä‘Æ¡n â†’ ThÃªm vÃ o giá» hÃ ng
   â†“
2. Xem giá» hÃ ng â†’ Ãp dá»¥ng mÃ£ khuyáº¿n mÃ£i
   â†“
3. Thanh toÃ¡n qua VNPay
   â†“
4. Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
```

#### ğŸ‘‘ Admin quáº£n lÃ½:

```
1. ÄÄƒng nháº­p â†’ Dashboard
   â†“
2. Quáº£n lÃ½ Ä‘Æ¡n hÃ ng, Ä‘áº·t bÃ n, sáº£n pháº©m...
   â†“
3. Xem thá»‘ng kÃª vÃ  bÃ¡o cÃ¡o
```

---

## ğŸ¯ TÃ­nh nÄƒng ná»•i báº­t

<div align="center">

### ğŸŒŸ Highlights

</div>

| TÃ­nh nÄƒng | MÃ´ táº£ |
|:---------:|:------|
| ğŸª‘ **Quáº£n lÃ½ bÃ n thÃ´ng minh** | SÆ¡ Ä‘á»“ bÃ n trá»±c quan vá»›i mÃ u sáº¯c theo tráº¡ng thÃ¡i:<br>ğŸŸ¢ Trá»‘ng â€¢ ğŸŸ¡ ÄÃ£ Ä‘áº·t â€¢ ğŸ”´ Äang dÃ¹ng â€¢ âš« Báº£o trÃ¬ |
| ğŸ”‘ **PhÃ¢n quyá»n RBAC** | Táº¡o vai trÃ² tÃ¹y chá»‰nh vÃ  gÃ¡n quyá»n chi tiáº¿t |
| ğŸ’³ **Thanh toÃ¡n VNPay** | TÃ­ch há»£p thanh toÃ¡n trá»±c tuyáº¿n an toÃ n |
| ğŸ“Š **Dashboard thá»‘ng kÃª** | Doanh thu, Ä‘Æ¡n hÃ ng, top sáº£n pháº©m vá»›i biá»ƒu Ä‘á»“ trá»±c quan |
| ğŸ”’ **Password Security** | Hash password vá»›i SHA-256 + salt |

---

## ğŸ“š TÃ i liá»‡u

<div align="center">

| ğŸ“„ TÃ i liá»‡u | ğŸ“ MÃ´ táº£ |
|:-----------:|:--------|
| [ğŸ”„ Luá»“ng hoáº¡t Ä‘á»™ng há»‡ thá»‘ng](FLOW_DIAGRAM.md) | MÃ´ táº£ chi tiáº¿t cÃ¡c luá»“ng xá»­ lÃ½ trong há»‡ thá»‘ng |
| [ğŸª‘ HÆ°á»›ng dáº«n nháº­n bÃ n](HUONG_DAN_NHAN_BAN.md) | HÆ°á»›ng dáº«n sá»­ dá»¥ng chá»©c nÄƒng nháº­n bÃ n cho Admin/Staff |
| [ğŸ”’ Cáº¥u hÃ¬nh báº£o máº­t](SECURITY_FIXES.md) | HÆ°á»›ng dáº«n cáº¥u hÃ¬nh password hashing vÃ  credentials |
| [ğŸ’³ Sá»­a lá»—i VNPay](VNPAY_FIX.md) | Xá»­ lÃ½ cÃ¡c váº¥n Ä‘á» VNPay callback |

</div>

---

## ğŸ› Xá»­ lÃ½ lá»—i

### âŒ Lá»—i káº¿t ná»‘i Database

<details>
<summary>ğŸ” <b>NguyÃªn nhÃ¢n & Giáº£i phÃ¡p</b></summary>

- âœ… Kiá»ƒm tra SQL Server Ä‘ang cháº¡y
- âœ… Kiá»ƒm tra file `database.properties` Ä‘Ã£ cáº¥u hÃ¬nh Ä‘Ãºng
- âœ… Xem console log Ä‘á»ƒ biáº¿t lá»—i cá»¥ thá»ƒ
- âœ… Äáº£m báº£o SQL Server cho phÃ©p káº¿t ná»‘i TCP/IP

</details>

### âŒ Lá»—i Ä‘Äƒng kÃ½

<details>
<summary>ğŸ” <b>NguyÃªn nhÃ¢n & Giáº£i phÃ¡p</b></summary>

- âœ… Äáº£m báº£o Roles table cÃ³ role vá»›i `id = 1` (KhÃ¡ch hÃ ng)
- âœ… Kiá»ƒm tra console log Ä‘á»ƒ xem lá»—i SQL
- âœ… Kiá»ƒm tra foreign key constraints

</details>

### âŒ Lá»—i VNPay

<details>
<summary>ğŸ” <b>Xem chi tiáº¿t</b></summary>

Xem [VNPAY_FIX.md](VNPAY_FIX.md) Ä‘á»ƒ biáº¿t cÃ¡ch xá»­ lÃ½ cÃ¡c lá»—i liÃªn quan Ä‘áº¿n VNPay.

</details>

---

## ğŸ¤ ÄÃ³ng gÃ³p

ChÃºng tÃ´i ráº¥t hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! ğŸ‰

1. ğŸ´ **Fork** project
2. ğŸŒ¿ Táº¡o **feature branch** (`git checkout -b feature/AmazingFeature`)
3. ğŸ’¾ **Commit** changes (`git commit -m 'Add some AmazingFeature'`)
4. ğŸ“¤ **Push** to branch (`git push origin feature/AmazingFeature`)
5. ğŸ”€ Má»Ÿ **Pull Request**

### ğŸ“‹ Quy táº¯c Ä‘Ã³ng gÃ³p

- âœ… TuÃ¢n thá»§ coding style hiá»‡n táº¡i
- âœ… Viáº¿t comment rÃµ rÃ ng cho code phá»©c táº¡p
- âœ… Test ká»¹ trÆ°á»›c khi commit
- âœ… Cáº­p nháº­t tÃ i liá»‡u náº¿u cáº§n

---

## ğŸ“ License

<div align="center">

**MIT License**

Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

</div>

---

## ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

<div align="center">

**Ta Ngoc Tai**

[![GitHub](https://img.shields.io/badge/GitHub-tangoctai2004-black?style=flat-square&logo=github)](https://github.com/tangoctai2004)

</div>

---

## ğŸ™ Lá»i cáº£m Æ¡n

<div align="center">

| CÃ´ng cá»¥ | MÃ´ táº£ |
|:-------:|:------|
| [VNPay](https://sandbox.vnpayment.vn/) | ğŸ’³ Cá»•ng thanh toÃ¡n trá»±c tuyáº¿n |
| [Apache Tomcat](https://tomcat.apache.org/) | ğŸ± Application server |
| [Microsoft SQL Server](https://www.microsoft.com/sql-server) | ğŸ—„ï¸ Database system |
| [NetBeans](https://netbeans.apache.org/) | ğŸ”§ IDE há»— trá»£ phÃ¡t triá»ƒn |

</div>

---

<div align="center">

### â­ Náº¿u project nÃ y há»¯u Ã­ch, hÃ£y cho má»™t star nhÃ©!

**Made with â¤ï¸ by Ta Ngoc Tai**

![GitHub stars](https://img.shields.io/github/stars/tangoctai2004/HAH-Restaurant?style=social)
![GitHub forks](https://img.shields.io/github/forks/tangoctai2004/HAH-Restaurant?style=social)

</div>
